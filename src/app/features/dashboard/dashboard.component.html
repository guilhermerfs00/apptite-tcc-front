<div class="dashboard-container">
  <h1 class="titulo">ğŸ“Š Painel de Controle</h1>

  <!-- Filtros -->
  <div class="filtros-container">
    <label>
      Data Inicial:
      <input type="date" [(ngModel)]="dataInicio" />
    </label>

    <label>
      Data Final:
      <input type="date" [(ngModel)]="dataFim" />
    </label>

    <button (click)="aplicarFiltro()" class="botao-aplicar">ğŸ” Aplicar Filtro</button>
  </div>

  <!-- MÃ©tricas -->
  <div class="metricas">
    <div class="bloco-metrica">
      <h3>Total de Pedidos</h3>
      <p>{{ totalPedidos }}</p>
    </div>
    <div class="bloco-metrica">
      <h3>ğŸ“¦ Faturamento</h3>
      <p class="valor">R$ {{ totalFaturamento | number:'1.2-2' }}</p>
    </div>
    <div class="bloco-metrica">
      <h3>Pedidos Hoje</h3>
      <p>{{ pedidosHoje }}</p>
    </div>
    <div class="bloco-metrica">
      <h3>VariaÃ§Ã£o</h3>
      <p [ngClass]="{ positivo: variacaoHoje >= 0, negativo: variacaoHoje < 0 }">
        {{ variacaoHoje | number:'1.0-0' }}%
      </p>
    </div>
    <div class="bloco-metrica">
      <h3>ğŸ“ˆ PrevisÃ£o MÃªs</h3>
      <p>{{ pedidosPrevisao }}</p>
    </div>
  </div>

  <!-- GrÃ¡ficos -->
  <div class="graficos">
    <div class="grafico-container">
      <h4>ğŸ“Œ Status dos Pedidos</h4>
      <canvas id="graficoPizza"></canvas>
    </div>
    <div class="grafico-container">
      <h4>ğŸ“… Pedidos por MÃªs</h4>
      <canvas id="graficoBarra"></canvas>
    </div>
  </div>

  <!-- Feedbacks e Notas -->
  <div class="feedbacks-container">
    <div class="bloco-metrica feedback-nota">
      <h4>â­ MÃ©dia das Notas</h4>
      <p>{{ mediaNota | number:'1.1-1' }}</p>
    </div>
    <div class="feedback-lista">
      <h4>ğŸ“ Feedbacks Recebidos</h4>
      <div *ngIf="feedbacks.length > 0; else semFeedbacks">
        <ul>
          <li *ngFor="let f of feedbacks">
            <strong>{{ f.dataCriacao | date:'short' }}:</strong> {{ f.conteudo }}
          </li>
        </ul>
      </div>
      <ng-template #semFeedbacks>
        <p>Nenhum feedback encontrado.</p>
      </ng-template>
    </div>
  </div>

  <!-- ExportaÃ§Ã£o -->
  <div class="botoes-exportacao">
    <button class="botao-exportar" (click)="exportarPDF()" [disabled]="exportando">
      {{ exportando ? 'â³ Exportando...' : 'ğŸ“¥ Exportar PDF' }}
    </button>
  </div>
</div>
